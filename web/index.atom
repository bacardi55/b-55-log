<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>bacardi55&#039;s blog</title>
    <subtitle></subtitle>
    <link href="/index.atom" rel="self" />
    <link href="/" />
            <updated>2013-04-22T00:00:00+02:00</updated>
            <entry>
        <title>Why I started working on a opensource disqus</title>
                <updated>2013-04-22T00:00:00+02:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/04/22/why-i-started-working-on-a-opensource-disqus.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>Disqus ?</h2>

<p>From the <a href="https://disqus.com" title="disqus">Disqus website</a>:</p>

<p><code>From small blogs to massive websites, Disqus is the easiest way to build active communities.
It's free to use and works with virtually any type of website.</code></p>

<p>In short, it's a simple comment system. I heard you saying «that's it?». And the anwser is yes.</p>

<p>Advantages:</p>

<ul>
<li>The comment system is not managed by yourself;</li>
<li>You don't have to worry about spam;</li>
<li>You just includ some Javascript code on your page and your good to go;</li>
<li>Include a social aspect in comments.</li>
</ul>

<p>Drawbacks:</p>

<ul>
<li>The major one for me: You don't own your data. If you do a basic comments system in php, ruby or whatever, you host the data of your users. If you use Disqus, Disqus own the content. For me this reason is more than enough to not use disqus. On disqus' website, they say that the data belongs to them.</li>
<li>You don't have access to the source code of disqus. Therefore, you don't know what it does.</li>
<li>You can't adapt it to your needs.</li>
</ul>

<h2>Ok, so no comments on your website?</h2>

<p>Exactly. At this moment, there is no comment section on this blog. As a matter of fact, it doesn't bother me much. I might have 10 readers tops :D so I don't really care.</p>

<p>I'm following a lot of developers blog and see a lot of them switching to heavy CMS or blog plateform to go this kind of static websites. And most of them are using disqus… There also people to use disqus on non static website. I really don't know why, but I feel like the «cloud» is the good excuse to not really care where our data are.</p>

<h2>So?</h2>

<p>So I started hacking a couple of weeks ago a new project to put it on this blog. I don't really need a comment system but maybe people will see it on maybe try it instead of disqus. The project is in a very early stage and will be release as a 0.1-alpha soon.</p>

<p>Before starting, I had these pre-requisite:</p>

<ul>
<li>Separate completly the frontend and the backend;</li>
<li>Learn how to use angularjs for the frontend;</li>
</ul>

<p>The first one would let user write other backends in the language they want. I'm well aware that php is not loved in the opensource community so that way, user will be able to have their own backend with their own features in the language they like.</p>

<p>The second one was more of a selfish choice as I wanted to learn how to writte angularjs app.</p>

<p>The project is separated in 2 different projects:</p>

<ul>
<li>Jocs (Javascript Opensource Comments System): (say it like «jokes» :))A full javascript frontend writting with <a href="http://angularjs.org/" title="angularjs">angularjs</a>, the Superheroic JavaScript MVW Framework :). This frontend has to be set up in your web page when you want to add a comment system.</li>
<li>Pocs: This is a backend written in php with <a href="http://silex.sensio.org">silex</a>. This is a very basic backend that handle the web service + a simple admin page to add frontend.</li>
</ul>

<h2>Where am I?</h2>

<h3>Jocs' on me</h3>

<p>For now, I'm in the early stage. The app is currently working on my local but for now, it's not as user friendly as disqus to set it up on your website.
For example, to make it work with my blog, I had to change the path to the angularjs views. There is also no response to comment yet but that will be soon.</p>

<p>I have a huge todolist and I'll try to put it on the github repo at the same time as the source code (probably at the end of the week).
This won't be perfect but it would be a version that does the minimum to work :).</p>

<p>What it does for now:</p>

<ul>
<li>Display the comments after the page is loaded.</li>
<li>Add a comment.</li>
<li>Display gravatar if available.</li>
</ul>

<p>Soon:</p>

<ul>
<li>Response to comment (hierarchy)</li>
<li>Antispam</li>
<li>…</li>
</ul>

<p>You can see a capture here:
<a href="../../../../images/jocs/alpha.png">here</a></p>

<h3>Pocs</h3>

<p>For the backoffice, it's also the early stage. I'm developping both frontend and backend at the same time so it takes time :).
What it does for now:</p>

<ul>
<li>Install script to create the first user.</li>
<li>Add/Remove frontend (link the frontend to the backend with an API key and a fixed base URL).</li>
</ul>

<p>Soon:</p>

<ul>
<li>See comments per frontend / url and remove the unwanted ones.</li>
<li>…</li>
</ul>

<p>I think the code will be on github at this end of this week so people might be able to look at it.
It will be <a href="http://github.com/bacardi55/jocs" title="jocs">here</a> and <a href="http://github.com/bacardi55/pocs" title="pocs">here</a>.</p>

<h2>Conclusion</h2>

<p>I'll install it soon to try to test it here. I'll continue update this blog with the news of this project.
Hope that project will inspire developers to switch from disqus for jocs or their own comment system :).</p>
]]></content>
    </entry>
        <entry>
        <title>Open html email and email attachment in mutt</title>
                <updated>2013-03-07T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/03/07/open-your-attachment-directly-in-mutt.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>Quick intro</h2>

<p>I don't write a lot about it, but I use <a href="http://mutt.org">mutt</a> to read my emails. You can easily guess why:</p>

<ul>
<li>Less memory consuming than thunderbird or evolution;</li>
<li>Faster;</li>
<li>Managed by keyboard;</li>
<li>Used in a terminal :)</li>
</ul>

<p>For those who know me, they know that I really don't like using my mouse. I find that each time I remove my hand from my keyboard to go on my mouse, I loose time. That's why I'm using <a href="http://vim.org">vim</a> (that and the fact that it's the best editor :p</troll>), or why I'm using a tiling Window Manager (<a href="http://i3wm.org">i3</a>) or why I'm using mainly application that run inside a terminal.</p>

<p>It's simply more consistent with the way I use my computer to work and code.</p>

<p>Using mutt might seems like a real nerdy thing to do in 2013 but if you configure it properly, it's as good as any (but less RAM consuming) :).</p>

<h2>Html email</h2>

<p>I have to admit, I also use mutt because in my opinion, email should only be text. I hate html email and I hate even more when people send html email without the text alternative.</p>

<p>But, we're in 2013 and I receive html email every day. When some of them don't have the text alternative, I can't always decide to throw it and ignore it (even if I often do). Sometime, even important email and not only spam can be in html only.</p>

<p>They are several options to handle this and I choose to use the <code>~/.mailcap</code> file that contains a list of programs to use depending on the <a href="https://en.wikipedia.org/wiki/Internet_media_type">mime type</a> of the file.</p>

<p>To read html email inside mutt, just add this in your <code>~/.mailcap</code>:</p>

<pre class="bash" style="font-family:monospace;">text<span style="color: #000000; font-weight: bold;">/</span>html; links <span style="color: #000000; font-weight: bold;">%</span>s; <span style="color: #007800;">nametemplate</span>=<span style="color: #000000; font-weight: bold;">%</span>s.html
text<span style="color: #000000; font-weight: bold;">/</span>html; links <span style="color: #660033;">-dump</span> <span style="color: #000000; font-weight: bold;">%</span>s; <span style="color: #007800;">nametemplate</span>=<span style="color: #000000; font-weight: bold;">%</span>s.html; copiousoutput</pre>

<p><strong>You need to have links installed</strong>.</p>

<p>And now, you'll be able to click on the html attachment and see the content of the email easily :).</p>

<h2>Open email attachment</h2>

<p>Ok, so now that we have done this for the html email, I'm sure you understood how to be able to open other attachment files: You just need to add new lines in your mailcap file :).</p>

<p>Here is my mailcap file as an example:</p>

<pre class="bash" style="font-family:monospace;">text<span style="color: #000000; font-weight: bold;">/</span>html; links <span style="color: #000000; font-weight: bold;">%</span>s; <span style="color: #007800;">nametemplate</span>=<span style="color: #000000; font-weight: bold;">%</span>s.html
text<span style="color: #000000; font-weight: bold;">/</span>html; links <span style="color: #660033;">-dump</span> <span style="color: #000000; font-weight: bold;">%</span>s; <span style="color: #007800;">nametemplate</span>=<span style="color: #000000; font-weight: bold;">%</span>s.html; copiousoutput
text<span style="color: #000000; font-weight: bold;">/*</span>; <span style="color: #c20cb9; font-weight: bold;">less</span>
image<span style="color: #000000; font-weight: bold;">/*</span>; gpicview <span style="color: #000000; font-weight: bold;">%</span>s
application<span style="color: #000000; font-weight: bold;">/</span>pdf; evince <span style="color: #000000; font-weight: bold;">%</span>s
application<span style="color: #000000; font-weight: bold;">/</span>msexcel; soffice <span style="color: #000000; font-weight: bold;">%</span>s
application<span style="color: #000000; font-weight: bold;">/</span>msword; soffice <span style="color: #000000; font-weight: bold;">%</span>s
application<span style="color: #000000; font-weight: bold;">/</span>vnd.ms-excel; soffice <span style="color: #000000; font-weight: bold;">%</span>s
application<span style="color: #000000; font-weight: bold;">/</span>vnd.openxmlformats-officedocument.wordprocessingml.document; soffice <span style="color: #000000; font-weight: bold;">%</span>s</pre>

<p>I'm using gpicview for all images, soffice for office document (libre office and MS office document), less for text and evince for pdf.</p>

<p>You can add more line here for other type of file (eg: video, sound, …).</p>

<p>All you have to do now is press « v » on a email that has attachment and then press enter on the attach file and it will be open by the right program.</p>

<h2>Bonus</h2>

<p>If you don't know the mime type of a file, you can use ^e (ctrl+e) on a attached file in mutt to know the mime type. Then you just need to copy it and paste it in your mailcap file and choose which program will handle the files with this mime type :).</p>

<p>Hope this helped some of you :)</p>
]]></content>
    </entry>
        <entry>
        <title>Wenizit, the useless countdown webapp</title>
                <updated>2013-03-04T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/03/04/wenizit-the-useless-countdown-webapp.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>A day of useless coding</h2>

<p>This week end, I had some time to loose. I wanted to code but I was too lazy to fix some of the <a href="https://github.com/bacardi55/GPB">GPB</a> bugs/new features or to get back to a previous project that really need to be finished (a cv manager which suppose to be the next step of my presence of the web as I was saying <a href="http://blog.dev/2013/02/03/presenting-github-php-dashboard-gpb.html">here</a>).</p>

<p>Instead, a friend asked me to create a countdown for him. The need was basic: a simple Javascript countdown to display on a web page.</p>

<p>There are tons of javascript code on the internet that let you do this very easily and I could have juste take a script, set the date a put it on a server. Would have been fast and easy and in javascript only (no need for a PHP server).</p>

<p>Instead of that, I wanted to have some fun coding some PHP…</p>

<h2>What did I do?</h2>

<p>The idea was simple, create a very very small web app that let you create as much countdown as you want and display it with a nice Javascript code (I took an opensource one for the JS part).</p>

<p>So I download my favorite <a href="http://silex.sensio.org">Silex</a> « distribution »: <a href="https://github.com/lyrixx/Silex-Kitchen-Edition">Silex Kitchen</a>.</p>

<p>As <a href="http://symfony.com/blog/symfony-2-2-0">Symfony 2.2 was released few days ago</a>, I changed the composer.json file of the silex kitchen edition to upgrade the symfony component to the 2.2 versions.</p>

<p>I had some issues as there was some changes in the API of some of the sf2 component. Nevermind, a fork of silex kitchen and 3 commits later, everything was fine :).</p>

<p>I was surprise (in a good way) today to see that <a href="http://blog.lyrixx.info/">lyrixx</a> (the silex kitchen creator) merge some of my commits. I now have <a href="https://github.com/lyrixx/Silex-Kitchen-Edition/commits/master">my name in the commit page of silex kitchen</a> :).</p>

<p>Anyway, few hours of coding later, <a href="https://github.com/bacardi55/wenizit">wenizit</a> was born.</p>

<h2>Wenizit?</h2>

<p>Wenizit (pronounce « When it is » with a strong french accent ^^) is a very little and very dumb app to create JS countdown.</p>

<p>You can create open countdown or password protected countdown.</p>

<p><a href="../../../../images/wenizit/wenizit.png">Here is a simple screenshot of wenizit</a>.</p>

<p>Useless app is useless, but at least I had fun doing it ^^ (and it let me do some fixes for silex kitchen, so not that useless after all :)).</p>

<p>The code is dirty, the app not really finished (there should be an admin part, a real antispam, a remember me for the password protected pages, …). But at least, it does the work I needed.</p>

<p>I might continue fixing some stuff for wenizit one day because I like coding and it help me learn silex and the sf2 component a little bit more each time (and that's the real purpose actually).</p>

<p>I really need to learn how to finish projects for real ^^.</p>

<p>Anyway, I'm pretty sure that this app won't ever be used by someone else than me, but I don't really care as I code for fun ^^.</p>

<p>The next blog post shoud be on a more interesting subject (probably another one on vim or maybe on php5.5).</p>
]]></content>
    </entry>
        <entry>
        <title>How can I use vim on a daily basis</title>
                <updated>2013-02-27T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/27/how-can-i-use-vim-on-a-daily-basis.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>What is your editor?</h2>

<p>When you start working with new team members, you often end up trolling. Why? I don't know exactly but it seems to happen very often with me ^^.</p>

<p>Anyway, troll or not, you will eventually talk about your editor. Depending on your needs and your habits, there is no good or wrong answer. But people think you are crazy when you answer <a href="http://vim.org">vim</a>…</p>

<h2>Why?</h2>

<p>Most people knows <a href="http://vim.org">vim</a> (or even only vi) because they had to use it on a remote server through ssh. Most of the time, there is only nano and vi(m) installed on a fresh debian installation (or most of the other server distro). They are using without plug-in, nor configuration or even knowledge of how <a href="http://vim.org">vim</a> works.</p>

<p>They get the basic commands on the Internet but every <a href="http://vim.org">vim</a> user knows that <a href="http://vim.org">vim</a> is not just « dd », « pp », « escape », « i » and « :wq ». If you stop at that point, you don't know <a href="http://vim.org">vim</a> and you definitively can't talk about it saying that it is rubbish (I don't even answer to that) or not powerful (that one makes me laugh^^). I'm not saying I know everything in <a href="http://vim.org">vim</a>, i'm still learning everyday, and that's the beauty of it. But you can't talk about it without knowing it at least a little. Or it's just a big troll ^^.</p>

<p>When someone told me that he can't have the same features as the one within eclipse/netbeans/…, I ask which one. I've never been stuck by a useful feature that I didn't have in <a href="http://vim.org">vim</a>. Sometimes it's a basic vim command, sometimes a plug-in is needed, sometimes, the feature is even better in <a href="http://vim.org">vim</a> than in other editor :°).</p>

<h2>Ok, what's your point?</h2>

<p>The purpose of this post is to put here some basic plug-in/configuration that make <a href="http://vim.org">vim</a> look more like a code editor. If you are already coding with <a href="http://vim.org">vim</a>, I'm not sure you'll learn something here (but we never know ^^).</p>

<p>This post won't teach you how to use <a href="http://vim.org">vim</a>. There are plenty of tutorial on the internet that are way better than what I could write here. There are even great screencast to help you learn new stuff in <a href="http://vim.org">vim</a>. If you want to start coding like a boss with <a href="http://vim.org">vim</a>, you can find everything you want on the Internet.</p>

<p>If you know the basics with <a href="http://vim.org">vim</a> but need some tips to transform <a href="http://vim.org">vim</a> as a code editor, just read the following and it will help you start.</p>

<h2>Ok, bring it on!</h2>

<h3>The basic windows on «big» editor</h3>

<ul>
<li>You want to see the tree of files of your project ? <a href="https://github.com/scrooloose/nerdtree">Nerdtree</a> (<a href="../../../../images/vim/nerdtree.png">screenshot here</a>)</li>
<li>You want to have the list of the functions of the open files? <a href="https://github.com/vim-scripts/taglist.vim">Taglist</a> (<a href="../../../../images/vim/taglist.png">screenshot here</a>)</li>
<li>You want to parse and validate your code without refreshing your browser (for php, but works for every languages)? <a href="https://github.com/scrooloose/syntastic">Syntastic</a>.</li>
</ul>

<h3>Auto-complete</h3>

<ul>
<li><a href="http://vim.org">vim</a> comes with a basic auto-complete feature. You can use it with ^n (control-n). However, this will auto-complete using only the open files (every tab/split/buffers).</li>
<li>You can set up <a href="http://vim.org">vim</a> to auto-complete your language specific function (e.g. <a href="../../../../images/vim/phpComplete.png">here</a>). It displays all the matching function and their prototype. Isn't it beautiful ? You just to add <code>autocmd FileType php set omnifunc=phpcomplete#CompletePHP</code> and then use it with <code>^x ^o (ctrl-x ctrl-o)</code></li>
<li>I'm sure that is not enough! You want to be have auto-complete of all your project functions? Ctags if for you (here is a blog post I made on <a href="/2013/02/20/using-vim-and-ctags-for-php-development.html">ctags</a>).</li>
</ul>

<h3>Easy coding</h3>

<ul>
<li>Better folding for php? <a href="https://github.com/vim-scripts/phpfolding.vim">phpfolding</a>.</li>
<li>You can use <a href="https://github.com/garbas/vim-snipmate">snipmate</a> to write code for you. For example, you start writing <code>for</code> and a whole for loop will be writen for you. You'll just need to change the content.</li>
<li><a href="https://github.com/rstacruz/sparkup">Sparkup</a>: This let you write HTML really fast (eg: <code>div#header</code> will become <code>&lt;div id="header"&gt;&lt;/div&gt;</code>, but it way more powerful than just this example).</li>
</ul>

<h3>Misc</h3>

<ul>
<li>You want to handle your git repository within <a href="http://vim.org">vim</a>? <a href="https://github.com/tpope/vim-fugitive">fugitive</a> is your solution :).</li>
<li>You want Open files ultra fast (like on textmate)? <a href="https://github.com/wincent/Command-T">commandT</a> or <a href="https://github.com/kien/ctrlp.vim">ctrlp</a></li>
<li>Better than Control-z, <a href="http://sjl.bitbucket.org/gundo.vim/">Gundo</a>!</li>
<li>A better status line? <a href="https://github.com/Lokaltog/vim-powerline">vim powerline</a></li>
</ul>

<h2>Conclusion</h2>

<p>I only put some of the plug-ins I use. You can see my vimrc on github to see the whole configuration. I'm pretty sure that a lot of vim user have their own habits and lots of beautiful plug-ins, snippet, configuration tricks, etc.</p>

<p>The point is: <a href="http://vim.org">vim</a> is a «real» code editor as powerful as other and maybe more than most of them (is it a troll? Maybe not ;)). Stop saying that <a href="http://vim.org">vim</a> is a plain text editor that is not suitable to write code in 2013. That's just wrong :).</p>

<p>I'm pretty sure that <a href="http://vim.org">vim</a> can answer your need and you can even become faster thanks to it. With time you can become faster and you will enjoy the fact that you don't use your mouse anymore. When you do everything with your keyboard, you are simply more efficient (That's also why I use Tiling Window Manager, but that's for another post).</p>

<p>Hope that I could convince some of you of the power than <a href="http://vim.org">vim</a> can give you :).</p>
]]></content>
    </entry>
        <entry>
        <title>Saving a vim session before quitting</title>
                <updated>2013-02-21T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/21/saving-a-vim-session-before-quitting.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>When you working on a project, you often have a lot of files open in your <a href="http://vim.org">vim</a>. I use split and tab a lot to open all I need to work on a feature.</p>

<p>I leave my <a href="http://vim.org">vim</a> open as much as possible to avoid the pain of reopening them all everyday. Obviously, this isn't enough as sometime you don't have other choice than closing it (restarting your computer for example).</p>

<p>I started using the mksession command:</p>

<p><code>!mksession</code> (or without the ! if you don't want to override a previous session file).</p>

<p>This command let you save your vim session and then reopen it by launching vim like this:</p>

<p><code>vim -S /path/session/file</code></p>

<p>I was fed up of doing this -S stuff every time, so I changed for something a little bit more automatic.
I mapped to <code>SQ</code> a command that create a vim session in the current directory so I just use SQ for quitting and I know that there will be a session file generated thanks to this command.</p>

<p>After that, I just added an «autoloading» configuration to load a session file in the current directory if any exist.</p>

<p>This is the stuff I added in my vimrc:</p>

<pre class="bash" style="font-family:monospace;"><span style="color: #ff0000;">&quot;&quot;</span><span style="color: #ff0000;">&quot; SESSION
function! RestoreSession()
  if argc() == 0 &quot;</span><span style="color: #c20cb9; font-weight: bold;">vim</span> called without arguments
    <span style="color: #7a0874; font-weight: bold;">let</span> <span style="color: #007800;">FILESESSION</span>=expand<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">&quot;./session.vim&quot;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
    <span style="color: #000000; font-weight: bold;">if</span> filereadable<span style="color: #7a0874; font-weight: bold;">&#40;</span>FILESESSION<span style="color: #7a0874; font-weight: bold;">&#41;</span>
      execute <span style="color: #ff0000;">'source ./session.vim'</span>
    endif
  end
endfunction
&nbsp;
<span style="color: #c20cb9; font-weight: bold;">nmap</span> SQ <span style="color: #000000; font-weight: bold;">&lt;</span>ESC<span style="color: #000000; font-weight: bold;">&gt;</span>:mksession<span style="color: #000000; font-weight: bold;">!</span> .<span style="color: #000000; font-weight: bold;">/</span>session.vim<span style="color: #000000; font-weight: bold;">&lt;</span>CR<span style="color: #000000; font-weight: bold;">&gt;</span>:wqa<span style="color: #000000; font-weight: bold;">&lt;</span>CR<span style="color: #000000; font-weight: bold;">&gt;</span>
autocmd VimEnter <span style="color: #000000; font-weight: bold;">*</span> call RestoreSession<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span></pre>

<p>Now, I just need to open vim from the root directory of the project and think about leaving using SQ to generate the session file. The next time, I just need to go to root directory of the project and open vim without argument and the session will be loaded.</p>

<p>/!\ If you open a file directly (by using <code>vim ./path/to/file</code>), the session won't be open.</p>

<p>It makes sens for me to do this in the project root directory as I already have my ctags file there, as explain in <a href="/2013/02/20/using-vim-and-ctags-for-php-development.html">this blog post</a>.</p>

<p>As long as I open vim from the root directory of each project, my ctags and my session will be loaded :)</p>

<p>Isn't that beautiful ? :)</p>
]]></content>
    </entry>
        <entry>
        <title>Using Vim and Ctags for PHP development</title>
                <updated>2013-02-20T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/20/using-vim-and-ctags-for-php-development.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>As you may know (by knowing me or by reading the <a href="/about.html" title="about me">about me</a> page), I use <a href="http://vim.org" title="vim">Vim</a> to write code.</p>

<p>This blog post isn't about trolling about which editor is the best (as the answer is <a href="http://vim.org">Vim</a> anyway :P (sorry, I couldn't help it ^^)) but to indicate how you can use <a href="http://vim.org">vim</a> with <a href="http://ctags.sourceforge.net/">ctags</a> (also called exhuberant ctags) to write <a href="http://php.net">PHP</a> code (or other languages).</p>

<h2>Why?</h2>

<p>There is one feature that all developers brag about when trolling against vim (beside the obvious «it's too difficult» or stuff like that) is the hability to click on a function and go directly to its definition.</p>

<p>In «classic» editor like eclipse or netbeans, a simple « control click » on a function name and there you go.</p>

<p>Some vim developer use the <a href="vim-taglist.sourceforge.net/">taglist</a> plug-in to have the function list but this is not what we really want.</p>

<p>If you are reading this post, you probably now that this is not a basic vim feature :(. But, as we are using the powerful vim, there is plug-in for this!</p>

<h2>Ok, that sounds nice, but how?</h2>

<h3>By using ctags!</h3>

<p>According to the official <a href="http://ctags.sourceforge.net">ctags website</a> :
«Ctags generates an index (or tag) file of language objects found in source files that allows these items to be quickly and easily located by a text editor or other utility. A tag signifies a language object for which an index entry is available (or, alternatively, the index entry created for that object). »</p>

<p>So basically, it parse your code and create an index to tell what is where :p. That's a good start :).</p>

<h3>Install Ctags</h3>

<p>Firstable, we need to install ctags. Depending on your distribution, it could be called «ctags» or «exhuberant ctags». A simple search in your packet manager should answer you :).</p>

<p>Then, you'll need to install the <a href="http://www.vim.org/scripts/script.php?script_id=610">Vim ctags plugin</a> as any other plug-in. I'm strongly advising to use <a href="https://github.com/gmarik/vundle">vundle</a> to handle all your Vim plug-ins. I'll write a post about it in the feature, but that's not the purpose of this one :).</p>

<h3>Create the tag index</h3>

<p>At this point, we need to now tell ctags to parse our code to create the index file.</p>

<p>The first problem with ctags is that the default option for PHP (ctags manage more than 30 languages) are not good enough for me. Hopefully, you can pass to the ctags command a lot of options to parse your code according to your will.</p>

<p>The second problem is that depending on the type of project that you're working on, you might need to change the parameters that you pass through ctags.</p>

<p>As a matter of fact, I'm coding either in <a href="http://drupal.org">Drupal</a> and <a href="http://symfony.com">Symfony</a> / <a href="http://silex.sensio.org">Silex</a>. Drupal need some specific options to parse all .module, .install, .inc, … files. On the other hand, Symfony/Silex need to parse real POO code as PHP 5.3+ let us write.</p>

<p>I ended up with a php_ctags.sh script that I launch after pulling the source code of my project. That way, each time i pull new code, ctags parse it and update the index file :).</p>

<p>The script has 2 options: parsing a «framework» project or a Drupal project.</p>

<p>The script look like this:</p>

<pre class="bash" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">#!/bin/bash</span>
<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #ff0000;">&quot;$1&quot;</span> == <span style="color: #ff0000;">&quot;&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>;<span style="color: #000000; font-weight: bold;">then</span>
  <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;Usage: php_ctags [type]&quot;</span>;
  <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;Types are : &quot;</span>;
  <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;  - drupal&quot;</span>;
  <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;  - framework&quot;</span>;
  <span style="color: #7a0874; font-weight: bold;">exit</span> <span style="color: #000000;">0</span>;
<span style="color: #000000; font-weight: bold;">fi</span>;
&nbsp;
<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #ff0000;">&quot;$1&quot;</span> == <span style="color: #ff0000;">&quot;drupal&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>;<span style="color: #000000; font-weight: bold;">then</span>
  <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;running drupal ctags&quot;</span>;
  <span style="color: #7a0874; font-weight: bold;">exec</span> ctags <span style="color: #660033;">--langmap</span>=php:.engine.inc.module.theme.install.php <span style="color: #660033;">--php-kinds</span>=cdfi <span style="color: #660033;">--languages</span>=php <span style="color: #660033;">--recurse</span> <span style="color: #660033;">--exclude</span>=<span style="color: #ff0000;">&quot;.svn&quot;</span> <span style="color: #660033;">--exclude</span>=<span style="color: #ff0000;">&quot;sites/default/&quot;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">elif</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #ff0000;">&quot;$1&quot;</span> == <span style="color: #ff0000;">&quot;framework&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>;<span style="color: #000000; font-weight: bold;">then</span>
  <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;running framework ctags&quot;</span>;
  <span style="color: #7a0874; font-weight: bold;">exec</span> ctags <span style="color: #660033;">-f</span> tags <span style="color: #660033;">-h</span> <span style="color: #ff0000;">&quot;.php&quot;</span> <span style="color: #660033;">-R</span> \
    <span style="color: #660033;">--exclude</span>=<span style="color: #ff0000;">&quot;.svn&quot;</span> \
    <span style="color: #660033;">--totals</span>=<span style="color: #c20cb9; font-weight: bold;">yes</span> \
    <span style="color: #666666; font-style: italic;">#--tag-relative=yes \</span>
    <span style="color: #660033;">--PHP-kinds</span>=+cf \
    <span style="color: #660033;">--regex-PHP</span>=<span style="color: #ff0000;">'/abstract class ([^ ]*)/\1/c/'</span> \
    <span style="color: #660033;">--regex-PHP</span>=<span style="color: #ff0000;">'/interface ([^ ]*)/\1/c/'</span> \
    <span style="color: #660033;">--regex-PHP</span>=<span style="color: #ff0000;">'/(public |static |abstract |protected |private )+function ([^ (]*)/\2/f/'</span>
<span style="color: #000000; font-weight: bold;">else</span>
  <span style="color: #7a0874; font-weight: bold;">echo</span> <span style="color: #ff0000;">&quot;Not a valid type&quot;</span>;
<span style="color: #000000; font-weight: bold;">fi</span>;</pre>

<p>You can find <a href="https://github.com/bacardi55/dotfiles/blob/master/script/php_ctags.sh">here</a> on github (in case I change it after this blog post).</p>

<p>This script can be improved but it's enough for me :). If you have comments, don't hesitate to raise a discussion on github or twitter.</p>

<h3>Use it in Vim</h3>

<p>Ok, now that we have our file, we need to tell vim to use it.</p>

<p>The basic approach would be to use
<code>:set tags=~/path/to/index</code>
and there you go.</p>

<p>But I don't like the idea of doing this every time. So I added this in my vimrc:</p>

<pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">let</span> <span style="color: #007800;">FILETAG</span>=expand<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">&quot;./tags&quot;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
<span style="color: #000000; font-weight: bold;">if</span> filereadable<span style="color: #7a0874; font-weight: bold;">&#40;</span>FILETAG<span style="color: #7a0874; font-weight: bold;">&#41;</span>
  <span style="color: #000000; font-weight: bold;">set</span> <span style="color: #007800;">tags</span>=tags
endif</pre>

<p>I just need to have the file in the directory where I open vim. That way, i just need to go to the root directory of a project, start vim and my tag file is loaded :)</p>

<p>To do the equivalent of the control+click feature, just do <code>Ctrl-]</code> (this means pressing «control» and «]» together)on a function name, and it should bring you to the good file, on the function definition.</p>

<p>If you want to go back to the file you were on, <code>ctrl-t</code> will bring you back (this means pressing «control» and «t» together).</p>

<p>If you prefer opening the function definition in a split windows, use <code>ctrl-w-]</code>.</p>

<p>You can also use this vim command :</p>

<ul>
<li>:ts – shows the list.</li>
<li>:tn – goes to the next tag in that list.</li>
<li>:tp - goes to the previous tag in that list.</li>
<li>:tf – goes to the function which is in the first of the list.</li>
<li>:tl – goes to the function which is in the last of the list</li>
</ul>

<p>See you soon for more vim tips!</p>
]]></content>
    </entry>
        <entry>
        <title>Change the length of a field in Drupal</title>
                <updated>2013-02-19T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/19/change-the-length-of-a-field-settings-in-drupal.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>The problem</h2>

<p>Today, I wanted to change a size settings in a Drupal field as the client needs changed (who said « as always » ? :°)).</p>

<p>Drupal let the user/coder do a lot of stuff but you can't change the length of a field if there is already values in this field in your database.</p>

<p>As you can imagine, we had value in our database… So I had to found a way to do this change in a clean way.</p>

<p>As in drupal there is no such thing as « clean way » (who said « Troll spotted » :-P), i found a solution. Not a great one, but a working one ^^.</p>

<h2>How to</h2>

<h3>How Drupal handle the fields settings?</h3>

<p>Drupal stores the <em>definitions</em> of the fields in two tables:</p>

<ul>
<li><code>field_config</code>: This table contains the storage data;</li>
<li><code>field_config_instance</code>: This table contains information relative to a specific instance of the field (we won't touch this one).</li>
</ul>

<p>Drupal stores the values of the fields in:</p>

<ul>
<li><code>field_data_&lt;field_name&gt;</code></li>
<li><code>field_revision_&lt;field_name&gt;</code></li>
</ul>

<p>** change <code>&lt;field_name&gt;</code> by the name of your field :) **</p>

<h3>So, what do we do with that?</h3>

<p>In brief, you need to:</p>

<ul>
<li>Alter <code>field_data_&lt;field_name&gt;</code>;</li>
<li>Alter <code>field_revision_&lt;field_name&gt;</code>;</li>
<li>Change the value in <code>field_config</code> for your field.</li>
</ul>

<p>In my example, the new size is <code>&lt;NEW VALUE&gt;</code> so don't forget to change it.</p>

<h3>The code</h3>

<p>I wanted to put all the code in the hook_update_N, so I used the db_query function:</p>

<pre class="php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">// Change field_data_&lt;field_name&gt; structure table</span>
<span style="color: #666666; font-style: italic;">// to set a size of 15 for the value field.</span>
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;ALTER TABLE {field_data_&lt;field_name&gt;}
  CHANGE  {&lt;field_name&gt;_value} {&lt;field_name&gt;_value}
  VARCHAR( &lt;NEW VALUE&gt; ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL&quot;</span><span style="color: #339933;">;</span>
db_query<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">// Change field_revision_&lt;field_name&gt; structure table</span>
<span style="color: #666666; font-style: italic;">// to set a size of 15 for the value field.</span>
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;ALTER TABLE {field_revision_&lt;field_name&gt;}
  CHANGE  {&lt;field_name&gt;_value}  {&lt;field_name&gt;_value}
  VARCHAR( &lt;NEW VALUE&gt; ) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL&quot;</span><span style="color: #339933;">;</span>
db_query<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">// Get field_config data for the job reference field.</span>
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> db_select<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'field_config'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'fc'</span><span style="color: #009900;">&#41;</span>
  <span style="color: #339933;">-&gt;</span><span style="color: #004000;">fields</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'fc'</span><span style="color: #339933;">,</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'data'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
  <span style="color: #339933;">-&gt;</span><span style="color: #004000;">condition</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'fc.field_name'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'&lt;field_name&gt;'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'='</span><span style="color: #009900;">&#41;</span>
  <span style="color: #339933;">-&gt;</span><span style="color: #004000;">execute</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
  <span style="color: #339933;">-&gt;</span><span style="color: #004000;">fetchAll</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://www.php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000088;">$data</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/unserialize"><span style="color: #990000;">unserialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">data</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://www.php.net/array_key_exists"><span style="color: #990000;">array_key_exists</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'settings'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$data</span><span style="color: #009900;">&#41;</span>
    <span style="color: #339933;">&amp;&amp;</span> <a href="http://www.php.net/array_key_exists"><span style="color: #990000;">array_key_exists</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'max_length'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$data</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'settings'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
&nbsp;
    <span style="color: #666666; font-style: italic;">// Change the length to 15.</span>
    <span style="color: #000088;">$data</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'settings'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'max_length'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">15</span><span style="color: #339933;">;</span>
    db_update<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'field_config'</span><span style="color: #009900;">&#41;</span>
      <span style="color: #339933;">-&gt;</span><span style="color: #004000;">fields</span><span style="color: #009900;">&#40;</span><a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span>
        <span style="color: #0000ff;">'data'</span> <span style="color: #339933;">=&gt;</span> <a href="http://www.php.net/serialize"><span style="color: #990000;">serialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$data</span><span style="color: #009900;">&#41;</span>
      <span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
      <span style="color: #339933;">-&gt;</span><span style="color: #004000;">condition</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'field_name'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'&lt;field_name&gt;'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'='</span><span style="color: #009900;">&#41;</span>
      <span style="color: #339933;">-&gt;</span><span style="color: #004000;">execute</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre>

<p>And your good to go :)</p>
]]></content>
    </entry>
        <entry>
        <title>Sshfs For The Win!</title>
                <updated>2013-02-04T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/04/sshfs-for-the-win.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>I don't know other developers work (actually, I do have an idea since I see some of them every day ^^), but I don't like to work directly on my archlinux that runs my laptop.
Projects are often very different from each other and the requirement are never the same (php version, mysql/maria db version, the php.ini, …).
To avoid this, I use Virtual Machines. I choose to work with kvm and the libvirt to manage the virtual machines.</p>

<p>I can now use 1 VM for each project. I can be a little bit more smart and regroup project that have the same configuration (or almost the same ^^) to avoir having 55 VM and being lost.</p>

<p>Be carefull to not create too much VM. Imagine that you need to open 3 projects at the same time (it happens, 2 even more often), you'll have to open 3 Virtual Machines. Maybe you can do this with a very powerfull machine but mine can't do it so I group projects together when I can :).</p>

<h2>Edit your code</h2>

<p>This is neat but when you do that, you have 3 solutions to write code on your VM:</p>

<ul>
<li>Installing X on the VM and start using it in full screen;</li>
<li>Connect to the machine through ssh and start coding with vim;</li>
<li>Use sshfs.</li>
</ul>

<p>I don't even want to discuss the first option as I find it very dirty, heavy (you need 2 X), and makes me want to puke :p.
The second option is ok if you use vim or other console text editor. But even in this case, it would mean to duplicate your vim configuration (or your other editor configuration). It could be done by having your configuration on a repository like git or mercurial or even svn but I don't like this method.</p>

<p>The last method is my favorite: using sshfs (SSH FileSystem) to mount the directory where your source code is directly on your host.
You just need to do</p>

<pre class="bash" style="font-family:monospace;">sshfs <span style="color: #c20cb9; font-weight: bold;">login</span><span style="color: #000000; font-weight: bold;">@</span>machine:<span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>source<span style="color: #000000; font-weight: bold;">/</span>code <span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>mountpoint</pre>

<p>And voilà!</p>

<p>Now you can use your local editor and its beautifull configuration for all your projects :).</p>

<p>There are plenty of docs on the internet to learn how to install and configure it, so i'll let you find them :)</p>

<h2>Tips</h2>

<p>Two quick command though:</p>

<p>Unmount the directory:</p>

<pre class="bash" style="font-family:monospace;">fusermount <span style="color: #660033;">-u</span> <span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>mountpoint<span style="color: #000000; font-weight: bold;">/</span></pre>

<p>If <code>fusermount -u /path/to/mountpoint/</code> doesn't work and tells you that the device is busy</p>

<p>Simply do</p>

<pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">umount</span> <span style="color: #660033;">-l</span> <span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>mountpoint</pre>

<p>That should do the trick :)</p>

<p>Hope that this could help someone (to be honnest, I started this blog post as a quick reminder for the last command ^^).</p>
]]></content>
    </entry>
        <entry>
        <title>Presenting Github Php dashBoard</title>
                <updated>2013-02-03T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/03/presenting-github-php-dashboard-gpb.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>My new project page is now available <a href="http://projects.bacardi55.org" title="bacardi55's projects">here</a>.</p>

<h2>Your what?</h2>

<p>My new project homepage! This project is very simple as there is only on screen. GPB create a page that will display information about any github project you want (as long as it is a public project).</p>

<p>GPB create a dashboard presenting several informations about github repositories like the description, the number of commits, the last commits, ect… (see <a href="http://projects.bacardi55.org" title="bacardi55's project page">my project homepage</a>) to see what it is displayed.</p>

<h2>Why did you do that?</h2>

<p>I changed my blog for a reason: to change my « php developer web card » (my presence on the web). The first step was <a href="http://bacardi55.org">this blog</a>. I want it to be the frontpage.</p>

<p>Now that I've done this, as long as I keep writing blog post, I fullfil my first goal.</p>

<p>The second step was a page to present nicely my opensource projects. I have my <a href="http://github.com/bacardi55">github page</a> but I don't like the way it is presented. So I decided to create a quick page for that. I wanted to code something simple that would load a config an display the informations (as simple as yaml file). When I start thinking about what I would write inside the description for each project, I thought about what I wrote on github. I thought about copying / pasting it but i didn't like the idea of maintening the same text in 2 different places.</p>

<p><em>That's how GPB is borned!</em></p>

<h2>What is GPB?</h2>

<p>I created GPB, aka Github Php dashBoard (previously Github Php Board, that's why GPB :)), to simply get all the informations about my github projects and display it in a classy way. Doing this, I just need to keep my github project cleans and everything will be fine :).</p>

<h2>How does it works?</h2>

<p>There is a simple <code>config.yml</code> file that let you choose the github projects to display (you can choose projects from different users). It use only the non authenticated github api so you won't be able to create repo or stuff like that from GPB. That was not the primary goal and I don't know if it will be one day.</p>

<p>The default config file (the one that create my project page) is :</p>

<pre class="yaml" style="font-family:monospace;"><span style="color: #007F45;">githubPhpBoard</span>:<span style="color: green;">
    title</span><span style="font-weight: bold; color: brown;">: </span>Bacardi55 project page<span style="color: #007F45;">
    subtitle</span>:<span style="color: #007F45;">
    users</span>:<span style="color: #007F45;">
        - bacardi55</span><span style="font-weight: bold; color: brown;">:
</span>            - b-<span style="">55</span>-log
            - i55WebManager
            - jobEscaper55
            - dotfiles
            - gpb<span style="color: #007F45;">
        - lyrixx</span><span style="font-weight: bold; color: brown;">:
</span>            - Silex-Kitchen-Edition</pre>

<p>All you have to do is put a title, a subtitle (optional) and then choose the users/projects to display. As you can see, I put my personnal projects and silex kitchen projects (for the example). That way, you can also put your contribution to other projects.</p>

<h2>What's behind it?</h2>

<p>This app is written in <a href="http://php.net" title="php">PHP</a> based on the <a href="https://github.com/lyrixx/Silex-Kitchen-Edition" title="silex kitchen">Silex kitchen</a> version of the <a href="http://silex.sensio.org" title="silex">Silex micro framework</a> with the help of the excellent <a href="https://github.com/ornicar/php-github-api">php github api</a>. The view part is done with <a href="http://twig.sensio.org" title="twig">twig</a> and <a href="http://twitter.github.com/bootstrap/">twitter bootstrap</a>.</p>

<h2>How to install it?</h2>

<p>Thanks to composer, you just have to</p>

<p>Install <a href="http://getcomposer.org">composer</a> if it's not already done:</p>

<pre class="bash" style="font-family:monospace;">php <span style="color: #660033;">-r</span> <span style="color: #ff0000;">&quot;eval('?&gt;'.file_get_contents('https://getcomposer.org/installer'));&quot;</span></pre>

<p>Then, thanks to composer, you just need to:</p>

<pre class="bash" style="font-family:monospace;">php composer.phar <span style="color: #c20cb9; font-weight: bold;">install</span></pre>

<p>And there you go!</p>

<p><strong><em>Be carefull</em></strong>: You'll need the php5-curl extension.</p>

<p>Then, edit the <code>src/B55/gpb/resources/config/config.yml</code> or edit the <code>resources/config/prod.php</code> to set your configuration location and then create it (by copying the default one for example) and set your dashboard informations (the second option is the proper way).</p>

<p>Don't forget to remove the index_dev.php!</p>

<p><strong>The page are set in cache for 15min to avoid being shutdown by github (limit request number).</strong></p>

<p>The cache time will soon be configurable.</p>

<p>If you have too many projects and often rich the limit (and getting a 503 error page), you can «quick fixed» it by editing <code>src/B55/gpb/Controller/GpbControllerProvider.php</code> and add :</p>

<pre class="php" style="font-family:monospace;"><span style="color: #000088;">$github_api</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">authenticate</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$login</span><span style="color: #339933;">,</span> <span style="color: #000088;">$password</span><span style="color: #339933;">,</span> GithubClient<span style="color: #339933;">::</span><span style="color: #004000;">AUTH_HTTP_PASSWORD</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>

<p>before</p>

<pre class="php" style="font-family:monospace;"><span style="color: #000088;">$factory</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> GpbFactory<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>

<p>I'll will change that some day to use the proper way and generate a token for the app.</p>

<h2>What's next?</h2>

<p>Now that I have this pages, what's next for GPB?</p>

<ul>
<li>Configuration per project of the information you want to display (summary, commits, pull request, issues, …)</li>
<li>cache time configurable</li>
<li>better authentication</li>
<li>A page for each project (why not getting project.github.com static page to do that? or parsing the readme.me?)</li>
<li>… I'll see where i'll go with this latter :)</li>
</ul>

<p>Thanks for reading this far! :)</p>
]]></content>
    </entry>
        <entry>
        <title>Why I love opensource</title>
                <updated>2013-02-03T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/03/why-i-love-opensource.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>This is a quick blog post to say that I love opensource. Everyone who knows me know that I love opensource. I'm using gnu/linux on my laptop and I use linux at work too.</p>

<p>But recently, I've been coding a lot more than before. I don't know why, but my coding motivation has increased a lot.</p>

<p>I started new projects mainly to try new stuff. I starting feeling that there were too much new stuff that made my geek-sense feel interesting so I starting coding again.</p>

<p>I've always love  <a href="http://symfony.com" title="symfony">symfony</a> but recently I discover <a href="http://silex.sension.org" title="silex">Silex</a> and I really like it.
This post isn't about presenting silex, it's just to thanks the opensource community.</p>

<p>For those who follow my <a href="/2013/02/03/presenting-github-php-dashboard-gpb.html">blog</a>, you know that I started a small project last week : <a href="http://projects.bacardi55.org/gpb/#summary-GPB" title="Github Php dashBoard">Github Php dashBoard (GPB)</a>).</p>

<p>When I started this project, the idea was simple. Get the information about my project from github and display it nicely.
I automatically thought about using <a href="http://silex.sension.org" title="silex">Silex</a> for the PHP framework. <a href="http://twig.sensio.org" title="twig">Twig</a> and <a href="http://twitter.github.com/bootstrap/" title="Twitter Bootstrap">Twitter bootstrap</a> for the view part.</p>

<p>Then I started to look at the <a href="https://api.github.com">github api</a>. And then, in the I found the <a href="https://github.com/KnpLabs/php-github-api/" title="php github api">php github api</a>.</p>

<p>Thanks to all those opensource code, I could do this project in a couple of coding night. When I start being a developer, I always liked to do all by myself. It was fun and I liked doing everything.
Of course, I don't do that at all, neither at work or at home. But the little effort that I had to do to create a really small project is awesome. All I have to do is focus on my PHP code and read the bootstrap documentation to create a really simple design with javascript component. All of that without writing anything but PHP and twig templates.</p>

<p>So to all the contributors of those projects (and to all opensource contributors actually), <em>THANK YOU</em>.</p>

<p>This is why all my code are opensource (I actually have to put a LISCENCE file in my repositories some day ^^).
This is actually the main reason why <a href="http://bacardi55.org" title="bacardi55's blog">my blog</a> is a static blog, to be able to put it on a <a href="http://github.com/bacardi55/b-55-log" title="bacardi55's blog on github">git repository</a>.</p>

<p><strong>Open source, live long and prosper!</strong></p>
]]></content>
    </entry>
        <entry>
        <title>Add an twig extension in Silex</title>
                <updated>2013-02-02T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/02/add-an-twig-extension-in-silex.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>The problematic</h2>

<p>Today, I wanted to use a <a href="http://twig.sensiolabs.org" title="twig">twig</a> extension for a new project (that i'll present in a few days) in <a href="http://silex.sensio.org" title="silex">Silex</a>.</p>

<p>To be precise, I wanted the awesome <a href="https://github.com/fabpot/Twig-extensions" title="twig extensions">twig text extension</a>. This extension let you for example truncate your text directly in the view. That removes code from the controller/model part but it's also usefull if you want to display a truncated text and a tooltip with the full text when putting your mouse over the text and passing only one variable with the full text.</p>

<p>For example, if you want to display only the first 10 characters of the variable maVar, just :</p>

<pre class="twig" style="font-family:monospace;"><span style="color: #008000;"><span style="color: #D36900;">&#123;</span><span style="color: #D36900;">&#123;</span></span> <span style="color: #00aaff;">maVar</span><span style="color: #D36900;">|</span>truncate<span style="color: #D36900;">&#40;</span><span style="color: #cc66cc;">10</span><span style="color: #D36900;">&#41;</span> <span style="color: #008000;"><span style="color: #D36900;">&#125;</span><span style="color: #D36900;">&#125;</span></span></pre>

<p>I found different answers on the internet but it didn't work for me.</p>

<h2>The solution</h2>

<p>In your app.php, just add :</p>

<pre class="php" style="font-family:monospace;"><span style="color: #000088;">$app</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">register</span><span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">new</span> TwigServiceProvider<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span>
    <span style="color: #0000ff;">'twig.options'</span>        <span style="color: #339933;">=&gt;</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span>
        <span style="color: #0000ff;">'cache'</span>            <span style="color: #339933;">=&gt;</span> <a href="http://www.php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$app</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'twig.options.cache'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$app</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'twig.options.cache'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span>
        <span style="color: #0000ff;">'strict_variables'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #009900; font-weight: bold;">true</span>
    <span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'twig.form.templates'</span> <span style="color: #339933;">=&gt;</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'form_div_layout.html.twig'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'common/form_div_layout.html.twig'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'twig.path'</span>           <span style="color: #339933;">=&gt;</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span>
      __DIR__ <span style="color: #339933;">.</span> <span style="color: #0000ff;">'/../resources/views'</span><span style="color: #339933;">,</span>
    <span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$app</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'twig'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$app</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">share</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$app</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">extend</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'twig'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$twig</span><span style="color: #339933;">,</span> <span style="color: #000088;">$app</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000088;">$twig</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addExtension</span><span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">new</span> Twig_Extensions_Extension_Text<span style="color: #009900;">&#40;</span><span style="color: #000088;">$app</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
    <span style="color: #b1b100;">return</span> <span style="color: #000088;">$twig</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>

<p>You should already have the first <code>$app-&gt;register(new TwigServiceProvider(), …)</code> part if you use twig.</p>

<p>The second part is the twig extension registration. Here, I add only one extension but you can add more by adding other <code>$twig-&gt;addExtensio(…)</code> if you want. There are many cool <a href="https://github.com/fabpot/Twig-extensions">twig extensions</a> (i18n, debug).</p>

<p>There you go, you can now use the <code>truncate</code>, <code>wordwrap</code> (does as the <a href="http://www.php.net/manual/fr/function.wordwrap.php">wordwrap php function</a>) and <code>nl2br</code> filters in twig :).</p>

<p><strong><em>Watch out</em></strong>: Don't forget the <code>return $twig;</code> line! I lost half an hour because of this so don't do as me ^^.</p>

<p>As always, hope that will help someone (at least me when i'll have the same issue in another project ^^).</p>
]]></content>
    </entry>
        <entry>
        <title>Alternate css classes easily in twig</title>
                <updated>2013-02-02T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/02/02/alternate-css-classes-easily-in-twig.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>Today, I wanted to style a little bit my project.
The basic way in classic PHP project would be to use the iterator variable of your <code>for loop</code> with the use of <code>modulo</code>.</p>

<p>For example:</p>

<pre class="php" style="font-family:monospace;">&lt;div class=&quot;<span style="color: #000000; font-weight: bold;">&lt;?php</span> <span style="color: #b1b100;">echo</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">%</span> <span style="color: #cc66cc;">2</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #0000ff;">'odd'</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'even'</span> <span style="color: #339933;">;</span> <span style="color: #000000; font-weight: bold;">?&gt;</span>&quot;&gt;&lt;/div&gt;</pre>

<p>In twig, when you use a loop, there are several variables that you can use like <code>loop.index</code>, <code>loop.first</code>, <code>loop.last</code>. I won't copy/paste the official documentation here, you can read it here <a href="http://twig.sensiolabs.org/doc/tags/for.html">twig loop documentation</a>.</p>

<p>To use the modulo function in twig, just use</p>

<pre class="twig" style="font-family:monospace;"><span style="color: #008000;"><span style="color: #D36900;">&#123;</span><span style="color: #D36900;">&#123;</span></span> <span style="color: #cc66cc;">10</span> % <span style="color: #cc66cc;">2</span><span style="color: #D36900;">&#125;</span><span style="color: #D36900;">&#125;</span></pre>

<p>And there you go, as simple as in PHP.</p>

<p>Then, using twig, you can do this:</p>

<pre class="twig" style="font-family:monospace;"><span style="color: #008000;"><span style="color: #D36900;">&#123;</span>%</span> <a href="http://twig.sensiolabs.org/doc/tags/if.html"><span style="color: #0600FF;">if</span></a> <span style="color: #00aaff;">loop</span><span style="color: #00aaff;">.index</span> % <span style="color: #cc66cc;">2</span> <span style="color: #D36900;">==</span> <span style="color: #cc66cc;">0</span> <span style="color: #008000;">%<span style="color: #D36900;">&#125;</span></span>)}</pre>

<p>Or in my case I needed this :</p>

<pre class="twig" style="font-family:monospace;"><span style="color: #008000;"><span style="color: #D36900;">&#123;</span>%</span> <a href="http://twig.sensiolabs.org/doc/tags/if.html"><span style="color: #0600FF;">if</span></a> <span style="color: #00aaff;">loop</span><span style="color: #D36900;">.</span><a href="http://twig.sensiolabs.org/doc/functions/parent.html"><span style="color: #0600FF;">parent</span></a><span style="color: #00aaff;">.loop</span><span style="color: #00aaff;">.index</span> % <span style="color: #cc66cc;">2</span> <span style="color: #D36900;">==</span> <span style="color: #cc66cc;">0</span> <span style="color: #008000;">%<span style="color: #D36900;">&#125;</span></span></pre>

<p>To be able to use the index of my parent loop :)</p>

<p>On <a href="http://nerdpress.org/2012/02/14/modulo-in-twig/">this blog</a>, I found the following tips :</p>

<pre class="twig" style="font-family:monospace;"><span style="color: #008000;"><span style="color: #D36900;">&#123;</span>%</span> <a href="http://twig.sensiolabs.org/doc/tags/if.html"><span style="color: #0600FF;">if</span></a> <span style="color: #00aaff;">loop</span><span style="color: #00aaff;">.index</span> <a href="http://twig.sensiolabs.org/doc/tests/divisibleby.html"><span style="color: #804040;">divisibleby</span></a><span style="color: #D36900;">&#40;</span><span style="color: #cc66cc;">2</span><span style="color: #D36900;">&#41;</span> <span style="color: #008000;">%<span style="color: #D36900;">&#125;</span></span></pre>

<p>Isn't it beautiful ? But it gets even better!</p>

<pre class="twig" style="font-family:monospace;"><span style="color: #008000;"><span style="color: #D36900;">&#123;</span><span style="color: #D36900;">&#123;</span></span> <a href="http://twig.sensiolabs.org/doc/functions/cycle.html"><span style="color: #0600FF;">cycle</span></a><span style="color: #D36900;">&#40;</span><span style="color: #D36900;">&#91;</span><span style="color: #ff0000;">'odd'</span>, <span style="color: #ff0000;">'even'</span><span style="color: #D36900;">&#93;</span>, <span style="color: #00aaff;">loop</span><span style="color: #00aaff;">.index</span><span style="color: #D36900;">&#41;</span> <span style="color: #008000;"><span style="color: #D36900;">&#125;</span><span style="color: #D36900;">&#125;</span></span></pre>

<p>And there you go, thank you <a href="http://twig.sensio.org" title="twig">twig</a> !</p>
]]></content>
    </entry>
        <entry>
        <title>Switching quickly from 1 screen to 2</title>
                <updated>2013-01-28T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/01/28/switching-quickly-from-1-screen-to-2.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>As I open to switch often between 1 and 2 screen (I use a laptop), I made a very little bash script based on xrandr to help me switch faster.</p>

<pre class="bash" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">#!/bin/bash</span>
&nbsp;
<span style="color: #007800;">NB</span>=<span style="color: #000000; font-weight: bold;">`</span>xrandr<span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #ff0000;">&quot; connected&quot;</span><span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">wc</span> -l<span style="color: #000000; font-weight: bold;">`</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$NB</span>&quot;</span> <span style="color: #660033;">-eq</span> <span style="color: #000000;">2</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
  xrandr <span style="color: #660033;">--output</span> VGA-<span style="color: #000000;">0</span> <span style="color: #660033;">--auto</span> <span style="color: #660033;">--left-of</span> LVDS
  <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #ff0000;">&quot;$1&quot;</span> = <span style="color: #ff0000;">&quot;off&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
    xrandr <span style="color: #660033;">--output</span> LVDS <span style="color: #660033;">--off</span>
  <span style="color: #000000; font-weight: bold;">fi</span>
<span style="color: #000000; font-weight: bold;">else</span>
  xrandr <span style="color: #660033;">--auto</span>
<span style="color: #000000; font-weight: bold;">fi</span></pre>

<p>I named my script <code>dualscreen</code>.
Now, I you just have to run <code>dualscreen</code> in a term (or in a launcher like dmenu or your kde/gnome launcher). Then the script will the detect if 1 or 2 screen are plugged and do what it need to do.</p>

<p>If you want to plug a second screen and switch off the screen of the laptop, you can run <code>dualscreen off</code> and there you go !</p>

<p>Of course you need to adapt the output name depending on your hardware. Just run <code>randr</code> in a terminal.
For example, here is what I have running <code>xrandr</code>:</p>

<pre class="bash" style="font-family:monospace;">Screen <span style="color: #000000;">0</span>: minimum <span style="color: #000000;">320</span> x <span style="color: #000000;">200</span>, current <span style="color: #000000;">1366</span> x <span style="color: #000000;">768</span>, maximum <span style="color: #000000;">16384</span> x <span style="color: #000000;">16384</span>
LVDS connected 1366x768+<span style="color: #000000;">0</span>+<span style="color: #000000;">0</span> <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span> 0mm x 0mm
1366x768       <span style="color: #000000;">60.2</span><span style="color: #000000; font-weight: bold;">*</span>+
1280x720       <span style="color: #000000;">59.9</span>
1152x768       <span style="color: #000000;">59.8</span>
1024x768       <span style="color: #000000;">59.9</span>
800x600        <span style="color: #000000;">59.9</span>
848x480        <span style="color: #000000;">59.7</span>
720x480        <span style="color: #000000;">59.7</span>
640x480        <span style="color: #000000;">59.4</span>
DisplayPort-<span style="color: #000000;">0</span> disconnected <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span>
HDMI-<span style="color: #000000;">0</span> disconnected <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span>
VGA-<span style="color: #000000;">0</span> disconnected <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span></pre>

<p>This means that I have 4 outputs. The LVDS is my laptop output. Then, plug your screen and run the xrandr command again.
You'll see another output connected. This is the one you should use in the script.</p>

<p>Bonus:</p>

<p>If you are lucky enough that your computer send an acpi signal or something to detect that a screen is plugged, you can do it automatically.</p>

<p>Unfortunatly it's not the case with my current laptop so I don't know more ^^. Maybe someone can send me an email with the procedure :).</p>
]]></content>
    </entry>
        <entry>
        <title>Adding a default «vhost» to nginx</title>
                <updated>2013-01-28T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/01/28/adding-a-default-vhost-to-nginx.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>Today I wanted to install this blog on my new <a href="http://nginx.org" title="nginx">nginx</a> server. As this site is simply static html file, I thought why not using it as well to try to learn how to use it.</p>

<p>So I created my server :</p>

<pre class="bash" style="font-family:monospace;">server <span style="color: #7a0874; font-weight: bold;">&#123;</span>
  listen XX.XX.XXX.XXX:<span style="color: #000000;">80</span>;
  server_name bacardi55.org;
  root <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>www<span style="color: #000000; font-weight: bold;">/</span>b-<span style="color: #000000;">55</span>-log<span style="color: #000000; font-weight: bold;">/</span>web;
&nbsp;
  access_log  <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>nginx<span style="color: #000000; font-weight: bold;">/</span>blog_access.log;
  error_log   <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>nginx<span style="color: #000000; font-weight: bold;">/</span>blog_error.log;
<span style="color: #7a0874; font-weight: bold;">&#125;</span></pre>

<p>Then, I wanted to add two other domain to redirect to this one:</p>

<pre class="bash" style="font-family:monospace;">server <span style="color: #7a0874; font-weight: bold;">&#123;</span>
  listen XX.XX.XXX.XXX:<span style="color: #000000;">80</span>;
  server_name domaine2.tld domaine3.tld;
  access_log <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>nginx<span style="color: #000000; font-weight: bold;">/</span>other_domaine.access.log;
&nbsp;
  rewrite        ^ http:<span style="color: #000000; font-weight: bold;">//</span>bacardi55.org permanent;
<span style="color: #7a0874; font-weight: bold;">&#125;</span></pre>

<p>But It didn't work as I didn't have a default server.
The redirection wasn't apply as nginx considered my blog server the default. So the to 2 other vhost keep working and wasn't redirected. I didn't like that because I don't want this blog to be indexed 3 times by search engines.</p>

<p>So to correct this, I had to create a default server that redirect everything that didn't match any of my other server_name.
This is what I put in my conf file:</p>

<pre class="bash" style="font-family:monospace;">server <span style="color: #7a0874; font-weight: bold;">&#123;</span>
  listen XX.XX.XXX.XXX:<span style="color: #000000;">80</span> default;
  server_name _;
  access_log <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>log<span style="color: #000000; font-weight: bold;">/</span>nginx<span style="color: #000000; font-weight: bold;">/</span>default.access.log;
&nbsp;
  server_name_in_redirect off;
&nbsp;
  root  <span style="color: #000000; font-weight: bold;">/</span>var<span style="color: #000000; font-weight: bold;">/</span>www<span style="color: #000000; font-weight: bold;">/</span>;
<span style="color: #7a0874; font-weight: bold;">&#125;</span></pre>

<p>Be carefull though, I followed the documentation and put</p>

<pre class="bash" style="font-family:monospace;">listen <span style="color: #000000;">80</span> default;</pre>

<p>And there you go :)</p>

<p>But it didn't work. I actually had to put the <code>IP:80</code> instead of just <code>80</code> as in the official doc.</p>

<p>I may have miss something in my nginx that make it doesn't work but if than can help someone other than me :).</p>
]]></content>
    </entry>
        <entry>
        <title>Make a RSS feed from a Solr research in drupal</title>
                <updated>2013-01-27T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/01/27/make-a-rss-feed-from-a-solr-research-in-drupal.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>The problematic</h2>

<hr />

<p>At my work, I had the task to create a RSS feed on a Drupal website for some Solr search result pages.
I was working on a project where all the listing pages were generated by solr request. As usual, the client asked for an RSS feed for this pages. But she also asked to be able to put a keyword in the search and have a RSS feed for only the search pages.
To do that, I needed to launch the solr query to have the result of my RSS feed.
I also needed to be do it outside Drupal to let the varnish cache it (without specific rules as the link won't need authentification).</p>

<h2>My solution</h2>

<hr />

<p>I don't know if this is a perfect solution, but in that can help someone, here what I did.</p>

<p>I had several options but I started by creating a rss.php controller.
Inside I loaded my manager class that will include the needed files.
I needed the settings.php to load the database settings. The class load the solr configuration and is now ready to create the query.</p>

<p>In Drupal, After each solr request, I put in cache all fixed arguments of the query (like the content type, the publish options, ect…).
After that, I generate a url with the request name (to retrieve it in cache) and the non fixed parameter (such as keywords).</p>

<p>Then back in my manager, I parsed the url the retrieve the parameters. Then I load from the cache the fixed parameters of the request.
I then generate the solr request and launch it thanks to the <a href="https://code.google.com/p/solr-php-client/">solr-php-client</a>.
I tried to used the class within the apachesorl module, but there required a to high level of drupal bootstrapping.</p>

<p>After that, I simply created a class that generate a RSS feed from a drupal request. I think this class is pretty generic and I'll try to put it on my github as an opensource lib.</p>

<p>Hope that could help some developers that need to do a RSS feed from a drupal apache solr query :).</p>
]]></content>
    </entry>
        <entry>
        <title>Save a vim file despite open it as a simple user</title>
                <updated>2013-01-27T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/01/27/save-a-vim-file-despite-open-it-as-a-simple-user.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>If, as me, you often open a file forgetting to put sudo first, you hate that message <code>'readonly' option is set</code>, there is a simple solution to save your file anyway and not redo everything after opening the file with sudo.</p>

<p>You need to have sudo installed.</p>

<p>In, vim, just do
<code>:w !sudo tee %</code></p>

<p>And there you go :)
Make an alias in your vimrc and you'll never worried about forgetting to open a file with sudo.</p>
]]></content>
    </entry>
        <entry>
        <title>Return a Yaml file with silex</title>
                <updated>2013-01-27T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/01/27/return-a-yaml-file-with-silex.html"/>
        <content type="html" xml:lang="en"><![CDATA[<p>Today, I wanted to return a Yaml file to my browser but I wanted to be forced to download it.</p>

<p>It's not a file so I can not use the $app->stream helper. Instead I return a simple http response.</p>

<p>As I didn't find right away my answer, I thought about putting it in a blog post.</p>

<p>In your controller, add :</p>

<p><code>use Symfony\Component\HttpFoundation\Response;</code></p>

<p>Then, where you want to return your yaml file:</p>

<pre class="php" style="font-family:monospace;"><span style="color: #b1b100;">return</span> <span style="color: #000000; font-weight: bold;">new</span> Response<span style="color: #009900;">&#40;</span>
    <span style="color: #000088;">$yaml</span><span style="color: #339933;">,</span>
    <span style="color: #cc66cc;">200</span><span style="color: #339933;">,</span>
    <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Content-Type'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'text/x-yaml'</span><span style="color: #339933;">,</span>
        <span style="color: #0000ff;">'Content-Disposition'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'attachment; filename=&quot;filename.yaml&quot;'</span>
    <span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>

<p>And there you go :)</p>
]]></content>
    </entry>
        <entry>
        <title>New blog</title>
                <updated>2013-01-20T00:00:00+01:00</updated>
        <author>
            <name>bacardi55</name>
            <email>admin@bacardi55.org</email>
        </author>
        <link rel="alternate" type="text/html" href="/2013/01/20/new-blog.html"/>
        <content type="html" xml:lang="en"><![CDATA[<h2>Welcome on my new blog platform.</h2>

<h3>Again ? For real?</h3>

<p>Yes! But this time, I will write blog post and article and it will be in english.
I apologize right now for all the mistakes I'll made through my posts.</p>

<h3>Why a new blog platform?</h3>

<p>I could have start writting in my wordpress blog but I wanted a fresh start as I feeling like a new developer since I got back my passion for coding at home since 2013. I wanted a clean plate and new stuff to write about.</p>

<h3>Why do I use carew ?</h3>

<p><a href="http://carew.github.com" title="Carew">Carew</a> is a static blog generator like <a href="http://jekyllrb.com/" title="jekyll">jekyll</a> but written in php. It means that I write my articles in plain text in markdown format (like on github) and then I build my static site and push the file on the server. It means that my blog will be on git (<a href="https://lab.bacardi55.org" title="gitlab">gitlab</a> and <a href="http://github.com/bacardi55" title="github">github</a>) and will be open sourced (what else©®).
It could be strange to want to use a static site in 2013 when everything is dynamic. But I don't feel that my little blog is a place where there will be a lot of comments… This blog will be about stuff that I don't want to forget, about my laptop configuration that I like on my daily use and of course about coding. I intend to write article about my new dev but also about some php toughts and new php features.
I really think it will help myself improve and stay keep up with all the exciting news in the web development! Hope many of you will enjoy them as well.</p>

<h3>Why in english this time?</h3>

<p>I wanted for a long time to have a blog in english. As I'm french, I thought about writting my blog posts both in english and french. But I realized I was way too lazy to do that ^^. So I thought about doing one in english.
As I started 2013 by coding a lot at home, I thought this was the time to start this new blog by trying carew :).</p>

<h3>What's new ?</h3>

<p>I have 2 main project for right now:</p>

<ul>
<li>i55WebManager: This project intend to manage my <a href="http://i3wm.org" title="i3wm">i3</a> (i3 is my Window Manager) session and open for me all my windows in the wanted workspaces with the wanted layout. i55WebManager is a <a href="http://silex.sensiolabs.org/" title="silex">silex</a> application with <a href="http://twitter.github.com/bootstrap/" title="twitter bootstrap">twitter bootstrap</a>. It's a new version of my i3WebManager (I've redone it to use <a href="http://silex.sensiolabs.org/" title="silex">silex</a> with <a href="http://twitter.github.com/bootstrap/" title="twitter bootstrap">twitter bootstrap</a> and <a href="http://html5boilerplate.com/" title="html5boilerplate">html5boilerplate</a> and to use <a href="http://silex.sensiolabs.org/" title="silex">silex</a> in a better and proper way). There is more information on the i3WebManager page (the i55WebManager repo will soon be on github too).</li>
<li><a href="https://github.com/bacardi55/jobEscaper55" title="jobEscaper55">jobEscaper55</a>: This is a <a href="http://symfony.com" title="symfony">Symfony2</a> web application that let user create their resume and put it online. The main goal is to have my resume on the internet, in both html and pdf format. I intend to redo it soon (after finishing the i55WebManager v1.0) using symfony2.2 and <a href="http://twitter.github.com/bootstrap/" title="twitter bootstrap">twitter bootstrap</a> for the frontend to be able to have my resume in a responsive way.</li>
</ul>

<p>In another area, I installed a <a href="https://lab.bacardi55.org" title="gitlab">gitlab</a> for handling my code before sending them to github or for my private code. For example my blog post will be commit on my gitlab while in draft and publishing in my github afterwards.</p>
]]></content>
    </entry>
    </feed>
