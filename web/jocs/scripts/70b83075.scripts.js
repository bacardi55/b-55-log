"use strict";angular.module("jocsApp",["PocsServices"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"/jocs/views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("PocsServices",["ngResource"]).factory("Comments",["$http",function(e){var s="https://pocs.bacardi55.org/api/comments",o="aHR0cDovL2RlYmlhbjU1OjkwMDAvNTI5Nw==",t={get:function(t,n){e.jsonp(s+"?key="+o+"&callback=JSON_CALLBACK").success(t).error(n)},add:function(t,n,r){var c={key:o,newComment:t.newComment,href:t.href};e.post(s,c).success(n).error(r)}};return t}]).config(["$httpProvider",function(e){delete e.defaults.headers.common["X-Requested-With"],delete e.defaults.headers.common["x-csrftoken"],delete e.defaults.headers.common["x-insight"]}]),angular.module("jocsApp").controller("MainCtrl",["$scope","$window","Comments",function(e,s,o){e.comments=[],e.title="Jocs' on me",e.isError=0,e.isSuccess=0,e.message="",e.commentSent=!1;var t=function(s){"success"===s.status?e.comments=s.comments:(e.isSuccess=0,e.isError=1,e.message="Comments for this page couldn't be retrieved")},n=function(){e.isError=1,e.isSuccess=0,e.message="An error occured"},r=function(s){"success"===s.status?(e.isError=0,e.isSuccess=1,e.message=s.message):(e.message=s.message,e.isSuccess=0,e.isError=1),e.commentSent=!0,o.get(t,n)},c=function(){e.message="Comment couldn't be added",e.isError=1,e.isSuccess=0};o.get(t,n),e.addComment=function(){if("undefined"!==e.newComment){var s={href:window.location.href,newComment:e.newComment};o.add(s,r,c)}}}]);