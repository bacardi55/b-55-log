<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Switching quickly from 1 screen to 2</title>

    <meta name="description" content="">
    <meta name="author" content="bacardi55">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    
          <link rel="stylesheet" href="../../../../css/bootstrap.min.css">
      <link rel="stylesheet" href="../../../../css/bootstrap-responsive.min.css">
      <link rel="stylesheet" href="../../../../css/main.css">
    
    <script src="../../../../js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
  </head>

  <body>
    <!--[if lt IE 7]>
        <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->

    
        <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="brand" href="../../../..">bacardi55&#039;s blog</a>
                <div class="nav-collapse collapse">
                                            <ul class="nav">
                                                                                                                        <li><a href="../../../../about.html">About me</a></li>
                                                                                                                                <li><a href="../../../../about-this-blog.html">About this blog</a></li>
                                                                                        <li><a href="http://projects.bacardi55.org">My projects</a></li>
                                                </ul>
                    
                                            <ul class="nav pull-right">
                            <li>
                              <a href="index.atom"><img src="../../../../images/rss.png" /></a>
                            </li>
                            <li class="dropdown">
                                <a class="dropdown-toggle" title="Other OSS project" data-toggle="dropdown" href="#">
                                    Bacardi55
                                    <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="http://bacardi55.org" alt="bacardi55 home"><i class="icon-home"></i> My home</a><li>
                                    <li><a href="http://projects.bacardi55.org" alt="my projects"><i class="icon-briefcase"></i> My projects</a><li>
                                    <li class="divider"></li>
                                    <li><a href="http://github.com/bacardi55/" alt="my github"><i class="icon-globe"></i> My Github</a><li>
                                    <li><a href="https://lab.bacardi55.org" alt="bacardi55's lab"><i class="icon-globe"></i> My lab</a><li>
                                    <li><a href="http://twitter.com/bacardi555" alt="my twitter"><i class="icon-globe"></i> My twitter</a><li>
                                </ul>
                            </li>
                        </ul>
                                    </div>
            </div>
        </div>
    </div>

    
          <div class="content">
      <div class="container">

        
          <div class="row">
    <div class="span8 content">
                        <div class="page-header">
            <h1>Switching quickly from 1 screen to 2
                              <small>with xrandr</small>
              </h1>
          </div>
              
              <div class="pull-left">
                      By <i class="icon-user"></i>bacardi55 -
                    <i class="icon-calendar"></i>2013 January 28
        </div>
                  <div class="pull-right">
            <ul class="tag_box inline">
                              <li>
                  <i class="icon-tag"></i>
                  <a href="../../../../tags/dualscreen.html">
                    dualscreen
                  </a>
                </li>
                              <li>
                  <i class="icon-tag"></i>
                  <a href="../../../../tags/xrandr.html">
                    xrandr
                  </a>
                </li>
                              <li>
                  <i class="icon-tag"></i>
                  <a href="../../../../tags/script.html">
                    script
                  </a>
                </li>
                              <li>
                  <i class="icon-tag"></i>
                  <a href="../../../../tags/bash.html">
                    bash
                  </a>
                </li>
                          </ul>
          </div>

          <div class="clearfix"></div>
        
        <hr />

        <div class="body">
          <p>As I open to switch often between 1 and 2 screen (I use a laptop), I made a very little bash script based on xrandr to help me switch faster.</p>

<pre class="bash" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">#!/bin/bash</span>
&nbsp;
<span style="color: #007800;">NB</span>=<span style="color: #000000; font-weight: bold;">`</span>xrandr<span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">grep</span> <span style="color: #ff0000;">&quot; connected&quot;</span><span style="color: #000000; font-weight: bold;">|</span><span style="color: #c20cb9; font-weight: bold;">wc</span> -l<span style="color: #000000; font-weight: bold;">`</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #ff0000;">&quot;<span style="color: #007800;">$NB</span>&quot;</span> <span style="color: #660033;">-eq</span> <span style="color: #000000;">2</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
  xrandr <span style="color: #660033;">--output</span> VGA-<span style="color: #000000;">0</span> <span style="color: #660033;">--auto</span> <span style="color: #660033;">--left-of</span> LVDS
  <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span> <span style="color: #ff0000;">&quot;$1&quot;</span> = <span style="color: #ff0000;">&quot;off&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#93;</span>; <span style="color: #000000; font-weight: bold;">then</span>
    xrandr <span style="color: #660033;">--output</span> LVDS <span style="color: #660033;">--off</span>
  <span style="color: #000000; font-weight: bold;">fi</span>
<span style="color: #000000; font-weight: bold;">else</span>
  xrandr <span style="color: #660033;">--auto</span>
<span style="color: #000000; font-weight: bold;">fi</span></pre>

<p>I named my script <code>dualscreen</code>.
Now, I you just have to run <code>dualscreen</code> in a term (or in a launcher like dmenu or your kde/gnome launcher). Then the script will the detect if 1 or 2 screen are plugged and do what it need to do.</p>

<p>If you want to plug a second screen and switch off the screen of the laptop, you can run <code>dualscreen off</code> and there you go !</p>

<p>Of course you need to adapt the output name depending on your hardware. Just run <code>randr</code> in a terminal.
For example, here is what I have running <code>xrandr</code>:</p>

<pre class="bash" style="font-family:monospace;">Screen <span style="color: #000000;">0</span>: minimum <span style="color: #000000;">320</span> x <span style="color: #000000;">200</span>, current <span style="color: #000000;">1366</span> x <span style="color: #000000;">768</span>, maximum <span style="color: #000000;">16384</span> x <span style="color: #000000;">16384</span>
LVDS connected 1366x768+<span style="color: #000000;">0</span>+<span style="color: #000000;">0</span> <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span> 0mm x 0mm
1366x768       <span style="color: #000000;">60.2</span><span style="color: #000000; font-weight: bold;">*</span>+
1280x720       <span style="color: #000000;">59.9</span>
1152x768       <span style="color: #000000;">59.8</span>
1024x768       <span style="color: #000000;">59.9</span>
800x600        <span style="color: #000000;">59.9</span>
848x480        <span style="color: #000000;">59.7</span>
720x480        <span style="color: #000000;">59.7</span>
640x480        <span style="color: #000000;">59.4</span>
DisplayPort-<span style="color: #000000;">0</span> disconnected <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span>
HDMI-<span style="color: #000000;">0</span> disconnected <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span>
VGA-<span style="color: #000000;">0</span> disconnected <span style="color: #7a0874; font-weight: bold;">&#40;</span>normal left inverted right x axis y axis<span style="color: #7a0874; font-weight: bold;">&#41;</span></pre>

<p>This means that I have 4 outputs. The LVDS is my laptop output. Then, plug your screen and run the xrandr command again.
You'll see another output connected. This is the one you should use in the script.</p>

<p>Bonus:</p>

<p>If you are lucky enough that your computer send an acpi signal or something to detect that a screen is plugged, you can do it automatically.</p>

<p>Unfortunatly it's not the case with my current laptop so I don't know more ^^. Maybe someone can send me an email with the procedure :).</p>

        </div>
      
              <div class="fastNav">
                      <div class="prev pull-left">
              <a href="/2013/01/28/adding-a-default-vhost-to-nginx.html">
                ← Adding a default «vhost» to nginx (updated 2013-04-29)
              </a>
            </div>
                                <div class="next pull-right">
              <a href="/2013/02/02/add-an-twig-extension-in-silex.html">
                Add an twig extension in Silex →
              </a>
            </div>
                  </div>
          </div>

    <div class="span3 pull-right well">
      <ul class="nav nav-list">
        <li class="nav-header">Friends blog</li>
                  <li><a href="http://blog.teknicity.net">rustx</a>
                  <li><a href="http://blog.charlesjudith.com">chuck</a>
              </ul>
      <ul class="nav nav-list">
        <li class="nav-header">My last tweet<li>
        <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/bacardi555"  data-widget-id="364506065519386624">Tweets de @bacardi555</a>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
      </ul>
    </div>

  </div>

  <br /><br />

  <div class="row">
    <div class="content " id="jocs" ng-app="jocsApp">
      <div class="container" ng-view></div>
    </div>
  </div>


            <footer>
        <p>
            In case of any remarks or questions, please use the <a href="https://github.com/bacardi55/b-55-log/issues">github tracker</a> :)
        <p>
        <p>
            &copy;
                            <a href="http://bacardi55.org">
                  bacardi55
                </a>
                        2013
            <small>
                with help from <a href="http://carew.github.com/" target="_blank">Carew</a>
            </small>
        </p>
    </footer>
      </div>
      </div>
    
        

    <script src="/jocs/components/angular/angular.js"></script>
    <script src="/jocs/components/angular-resource/angular-resource.js"></script>
    <script src="/jocs/components/angular-cookies/angular-cookies.js"></script>
    <script src="/jocs/components/angular-sanitize/angular-sanitize.js"></script>

    <!-- build:js scripts/scripts.js -->
    <script src="/jocs/scripts/c4fe908e.scripts.js"></script>
    <!-- endbuild -->

            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
      <script>window.jQuery || document.write('<script src="../../../../js/vendor/jquery-1.9.0.min.js"><\/script>')</script>
      <script src="../../../../js/vendor/bootstrap.min.js"></script>
    
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-167056-9']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </body>
</html>
